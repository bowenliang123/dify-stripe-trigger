identity:
  name: "stripe_thin_events"
  author: "bowenliang123"
  label:
    en_US: "Stripe Thin Events"
    zh_Hans: "Stripe Thin 事件"

description:
  en_US: "Stripe Thin Events, for the full list and payload structure of thin events, see https://docs.stripe.com/api/events/types"
  zh_Hans: "Stripe Thin事件，完整的快照事件列表及事件结构，请参见 https://docs.stripe.com/api/events/types"

parameters:
  - name: signing_secret
    label:
      en_US: Webhook Signing Secret
      zh_Hans: Webhook 签名密钥
    type: string
    required: true
    description:
      en_US: "The signing secret issued by Stripe when webhooks configured for verifying incoming webhook signature"
      zh_Hans: "配置Webhook时Stripe分配的签名密钥，用于验证传入的 Webhook 签名"

  - name: api_key
    label:
      en_US: API Key
      zh_Hans: API Key
    type: string
    required: true
    description:
      en_US: "Stripe API Key, usually starts with 'sk_', see https://docs.stripe.com/api/authentication"
      zh_Hans: "Stripe API Key，通常以 'sk_' 开头，请参见 https://docs.stripe.com/api/authentication"

output_schema:
  type: object
  properties:
    id:
      type: string
      description: "Unique identifier for the object."
    type:
      type: string
      description: "The type of the event, eg.'v1.billing.meter.no_meter_found'. "
    object:
      type: string
      description: "Value is 'v2.core.event'. String representing the object’s type. Objects of the same type share the same value of the object field."
    context:
      type: string
      description: "Authentication context needed to fetch the event or related object."
    created:
      type: string
      description: "Time at which the object was created."
    data:
      type: object
      description: "Additional data about the event."
    livemode:
      type: boolean
      description: "Has the value true if the object exists in live mode or the value false if the object exists in test mode."
    reason:
      type: object
      description: "Reason for the event."
      properties:
        request:
          type: object
          description: "Information on the API request that instigated the event."
          properties:
            id:
              type: string
              description: "ID of the API request that caused the event."
            idempotency_key:
              type: string
              description: "The idempotency key transmitted during the request."
            type:
              type: string
              description: "Event reason type."
    related_object:
      type: object
      description: "Object containing the reference to API resource relevant to the event."
      properties:
        id:
          type: string
          description: "Unique identifier for the object relevant to the event."
        type:
          type: string
          description: "Object tag of the resource relevant to the event."
        url:
          type: string
          description: "URL to retrieve the resource."

extra:
  python:
    source: events/thin_events/event.py
